<!DOCTYPE html>
<html>
<head>
    <title>Pandemic Simulator</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
    <!-- <div id="topbar">
        <button id="languageToggle">Chinese</button>
    </div> -->
    <div id="controlsAndCharts">
        <div id="test">
            <h1>Pandemic Simulator</h1>
            <canvas id="gameCanvas"></canvas>
            <canvas id="populationChart"></canvas>
            <!-- make a unordered list of notices -->
            <button class="collapsible shake">Show Guide</button>
            <ul class="collapsible-list">
                <li data-translate="Hold down 'Shift' to draw your own initial infected population">Hold down 'Shift' to draw your own initial infected population</li>
                <li data-translate="Gradient of Green to Red: indicates the level of healthiness of that person">Gradient of Green to Red: indicates the level of healthiness of that person</li>
                <li data-translate="It is allowed to adjust the variable when simulation is running, changes are applied in real time to the simulation">It is allowed to adjust the variable when simulation is running, 
                    changes are applied in real time to the simulation</li>
                <li>If the graph looks weird, try stopping the simulation</li>
                <li>Traveling Restriction is always in effect in the first 80 days of any simulation, 
                    because it is designed to not have infected population to be removed too early 
                    in the simulation (i.e. unchecking the box before Day 80 has no effect)</li>
                <li>Lifting Travel Restriction usually leads to never-ending simulations</li>
            </ul>

        </div>
        <div id="controls">
            <button id="toggleButton" class="start" data-translate="Start">Start</button>
            <button id="randomizeButton" data-translate="Randomize Initial Population (Based on Initial Sick Population)">Randomize Initial Population (Based on Initial Sick Population)</button>
            <button id="makeAllHealthyButton" data-translate="Make All Healthy">Make All Healthy</button>
            <!-- Chart Reset Button -->
            <button id="chartResetButton" data-translate="Chart Reset">Chart Reset</button>
            
            <div id="presets">
                <h3>Load Presets:</h3>
                <button id="covid19">COVID-19</button>
                <button id="flu">Flu</button>
                <button id="ebola">Ebola</button>
                <button id="hiv">HIV</button>
                <button id="hiv-with-PrEP">HIV with PrEP</button>
            </div>
            
            <div id="setup">
                <label for="simulationSpeed">Simulation Speed:</label>
                <input type="range" id="simulationSpeed" min="1" max="40" value="20">
                <span id="simulationSpeedValue">20 Day(s)/second</span>
    
                <label for="travelRestriction">Travel Restriction In Effect:</label>
                <input type="checkbox" id="travelRestriction" checked>
    
                <label for="travelPercentage">Travel Percentage:</label>
                <input type="range" id="travelPercentage" min="0" max="3" step="0.01" value="0.15">
                <span id="travelPercentageValue">0.15%</span>
    
                <label for="initialSick">Initial Sick Population %:</label>
                <input type="number" id="initialSick" min="0" max="100" value="5">
    
                <label for="transmissibilityMin">Transmissibility Min %:</label>
                <input type="range" id="transmissibilityMin" min="0" max="10" step="0.1" value="2">
                <label for="transmissibilityMax">Transmissibility Max %:</label>
                <input type="range" id="transmissibilityMax" min="0" max="10" step="0.1" value="3">
                <span id="transmissibilityRange">0% - 3%</span>
            </div>
    
            <!-- div to wrap -->
            <div id="infectionRateDiv">
                <label for="severityLevelMin">Min Daily Health Loss Rate:</label>
                <input type="range" id="severityLevelMin" min="0" max="100" step="0.01" value="4">
                <label for="severityLevelMax">Max Daily Health Loss Rate:</label>
                <input type="range" id="severityLevelMax" min="0" max="100" step="0.01" value="6">
                <span id="severityLevelRange">4 - 6</span>
                <label for="skewnessSlider">Skewness:</label>
                <input type="range" id="skewnessSlider" min="0.05" max="3" step="0.05" value="1">
                <span id="skewnessValue">1</span>
                <br/>
                <ul>
                    <li>greater than 1: more mild cases</li>
                    <li>smaller than 1: more severe cases</li>
                    <li>euqal to 1: uniform distribution of mild to severe cases</li>
                </ul>
            </div>
    
            <!-- div to wrap -->
            <div id="recoveryRateDiv">
                <label for="healSpeedMin">Min Daily Health Recovery Rate When Healing:</label>
                <input type="range" id="healSpeedMin" min="0" max="50" value="3">
                <label for="healSpeedMax">Max Daily Health Recovery Rate When Healing:</label>
                <input type="range" id="healSpeedMax" min="0" max="50" value="5">
                <span id="healSpeedRange">3 - 5</span>
            </div>
            
            <!-- div to wrap -->
            <div id="loweredInfectionRate">
                <label for="healingInfectionChance_ReductionMultipler">( __% * infectionRate) to be re-infected when healing</label>
                <input type="number" id="healingInfectionChance_ReductionMultipler" min="0" max="100" value="80">
    
                <label for="healedReInfectionChance_ReductionMultipler">( __% * infectionRate) to be re-infected when healed</label>
                <input type="number" id="healedReInfectionChance_ReductionMultipler" min="0" max="100" value="25">     
            </div>
            
            <!-- div to wrap -->
            <div id="healChanceDiv">
                <label for="healChanceMin">Min Symptomatic ü§í to Healing üè• Probability %:</label>
                <input type="range" id="healChanceMin" min="0" max="100" value="15">
                <label for="healChanceMax">Max Symptomatic ü§í to Healing üè• Probability %:</label>
                <input type="range" id="healChanceMax" min="0" max="100" value="20">
                <span id="healChanceRange">15% - 20%</span>
                <label for="healChanceSkewness">Heal Chance Skewness:</label>
                <input type="range" id="healChanceSkewness" min="0.05" max="3" step="0.05" value="1">
                <span id="healChanceSkewnessValue">1</span>
                <br/>
                <ul>
                    <li>greater than 1: Less likely to heal</li>
                    <li>smaller than 1: More likely to heal</li>
                    <li>euqal to 1: uniform distribution of heal chances</li>
                </ul>
            </div>
    
            <!-- div to wrap -->
            <div id="incubationDiv">
                <label for="incubationInfectionRateMultiplier">Incubation Phase Infectivity Multiplier:</label>
                <input type="range" id="incubationInfectionRateMultiplier" min="0" max="3" step="0.1" value="1.5">
                <span id="incubationInfectionRateMultiplierValue">1.5</span>
    
                <label for="incubationReducedSeverityMultiplier">Incubation Phase Severity Reduction:</label>
                <input type="range" id="incubationReducedSeverityMultiplier" min="0" max="1" step="0.1" value="0.1">
                <span id="incubationReducedSeverityMultiplierValue">0.1</span>
    
                <label for="incubationPhaseDurationMin">Incubation Phase Min Duration (Days):</label>
                <input type="number" id="incubationPhaseDurationMin" min="0" max="5475" value="14">
                <label for="incubationPhaseDurationMax">Incubation Phase Max Duration (Days):</label>
                <input type="number" id="incubationPhaseDurationMax" min="0" max="5475" value="14">
                <span id="incubationPhaseDurationRange">14 - 14 Days</span>
            </div>
            
        </div>
        <!-- <div id="test">
            <h1>Pandemic Simulator</h1>
            <canvas id="gameCanvas"></canvas>
            <canvas id="populationChart"></canvas>
        </div> -->
    </div>
    
    
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="pandemic-simulator.js"></script>
    <script src="translation.js"></script>
    

</body>
</html>
